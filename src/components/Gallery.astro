---
import { Image } from 'astro:assets';

export interface Props {
	images: {
		src: ImageMetadata;
		alt: string;
	}[];
	title?: string;
	description?: string;
}

const { images, title, description } = Astro.props;
---

<div class="gallery-container lg:ml-80 h-screen flex items-center py-[5vh] lg:py-[15vh]">
	<!-- Horizontal Scrollable Container for both text and images -->
	<div class="gallery-scroll overflow-x-auto w-full h-full flex items-center" style="scrollbar-width: none; -ms-overflow-style: none; scroll-behavior: smooth;">
		<div class="flex w-max h-full items-center">
			<!-- Text Content Section -->
			<div class="flex-shrink-0 w-[35vw] lg:w-[25vw] px-4 lg:px-12 lg:pr-8 flex flex-col justify-center">
				{title && (
					<h1 class="text-2xl lg:text-3xl font-light mb-6 text-primary">
						{title}
					</h1>
				)}
				{description && (
					<div class="mb-8">
						<p class="text-sm text-muted mb-4 leading-relaxed">
							{description}
						</p>
					</div>
				)}
			</div>

			<!-- Images Section -->
			{images && images.length > 0 && (
				<div class="flex space-x-1 lg:space-x-2">
					{images.map((image) => (
						<div class="flex-shrink-0">
							<Image 
								src={image.src}
								alt={image.alt}
								class="w-auto h-auto max-h-[70vh] lg:max-h-[75vh] object-cover shadow-sm"
								loading="lazy"
							/>
						</div>
					))}
				</div>
			)}
		</div>
	</div>
</div>

<style>
	.gallery-scroll {
		/* Hide scrollbar for Firefox */
		scrollbar-width: none;
		/* Hide scrollbar for IE and Edge */
		-ms-overflow-style: none;
		/* Smooth scrolling */
		scroll-behavior: smooth;
	}
	
	/* Hide scrollbar for Chrome, Safari and Opera */
	.gallery-scroll::-webkit-scrollbar {
		display: none;
	}
	
	/* Ensure smooth scrolling for touch devices */
	.gallery-scroll {
		-webkit-overflow-scrolling: touch;
	}
</style>